{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"expo-in-app-purchases","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":113},"end":{"line":5,"column":56,"index":169}}],"key":"MA+oMtN5vZWr/JMevEiH8IcSM9g=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":211},"end":{"line":7,"column":26,"index":237}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":238},"end":{"line":8,"column":39,"index":277}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"PRODUCT_IDS\", {\n    enumerable: true,\n    get: function () {\n      return PRODUCT_IDS;\n    }\n  });\n  Object.defineProperty(exports, \"iapService\", {\n    enumerable: true,\n    get: function () {\n      return iapService;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _expoInAppPurchases = require(_dependencyMap[1], \"expo-in-app-purchases\");\n  var InAppPurchases = _interopNamespace(_expoInAppPurchases);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[4], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  /**\n   * In-App Purchase service using expo-in-app-purchases\n   * Singleton pattern with one-time initialization\n   */\n\n  // Get backend URL\n  const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n\n  // Product IDs\n  const PRODUCT_IDS = {\n    WEEKLY_PREMIUM: 'com.yourorg.biblechat.premium.weekly' // Weekly + 7-day trial\n  };\n  class IAPService {\n    isInitialized = false;\n    purchaseListener = null;\n    onPurchaseUpdate = null;\n\n    /**\n     * Initialize IAP connection (singleton - called once)\n     */\n    async connect() {\n      if (this.isInitialized) {\n        console.log('[IAP] Already initialized');\n        return;\n      }\n      try {\n        await InAppPurchases.connectAsync();\n        this.isInitialized = true;\n        console.log('[Analytics] iap_init', {\n          platform: Platform.default.OS\n        });\n        console.log('✅ [IAP] Connected successfully');\n      } catch (error) {\n        console.error('❌ [IAP] Failed to connect:', error);\n        throw new Error('Failed to initialize purchases');\n      }\n    }\n\n    /**\n     * Disconnect and cleanup\n     */\n    async disconnect() {\n      if (this.purchaseListener) {\n        this.purchaseListener.remove();\n        this.purchaseListener = null;\n      }\n      try {\n        await InAppPurchases.disconnectAsync();\n        this.isInitialized = false;\n        console.log('✅ [IAP] Disconnected');\n      } catch (error) {\n        console.error('❌ [IAP] Disconnect error:', error);\n      }\n    }\n\n    /**\n     * Get products from store\n     */\n    async getProducts(productIds) {\n      if (!this.isInitialized) {\n        await this.connect();\n      }\n      try {\n        const {\n          results,\n          responseCode\n        } = await InAppPurchases.getProductsAsync(productIds);\n        if (responseCode === InAppPurchases.IAPResponseCode.OK) {\n          console.log('[Analytics] iap_products_loaded', {\n            count: results?.length || 0\n          });\n          console.log('✅ [IAP] Products loaded:', results);\n          return results || [];\n        } else {\n          console.error('❌ [IAP] Failed to fetch products:', responseCode);\n          return [];\n        }\n      } catch (error) {\n        console.error('❌ [IAP] Get products error:', error);\n        return [];\n      }\n    }\n\n    /**\n     * Purchase a product\n     */\n    async purchaseProduct(productId) {\n      if (!this.isInitialized) {\n        await this.connect();\n      }\n      try {\n        console.log('[Analytics] iap_purchase_start', {\n          productId\n        });\n        await InAppPurchases.purchaseItemAsync(productId);\n        // Result will come through purchase listener\n      } catch (error) {\n        console.error('❌ [IAP] Purchase error:', error);\n        console.log('[Analytics] iap_purchase_fail', {\n          error: error?.message\n        });\n        throw error;\n      }\n    }\n\n    /**\n     * Verify subscription with backend server\n     * @param transactionId - Transaction ID from purchase/restore\n     * @param cachedOriginalTransactionId - Cached original transaction ID if available\n     */\n    async verifyWithServer(transactionId, cachedOriginalTransactionId) {\n      try {\n        console.log('[Analytics] verify_subscription_start', {\n          transactionId\n        });\n        const response = await axios.default.post(`${BACKEND_URL}/api/subscription/verify`, {\n          platform: 'ios',\n          transactionId,\n          originalTransactionId: cachedOriginalTransactionId\n        });\n        const data = response.data;\n        console.log('[Analytics] verify_subscription_success', {\n          status: data.status,\n          originalTransactionId: data.originalTransactionId\n        });\n        return {\n          status: data.status === 'active' ? 'active' : data.status === 'trial' ? 'trial' : 'expired',\n          needsServerValidation: false,\n          trialEndsAt: data.trialEndsAt,\n          originalTransactionId: data.originalTransactionId\n        };\n      } catch (error) {\n        console.error('❌ [IAP] Server verification failed:', error);\n        console.log('[Analytics] verify_subscription_fail', {\n          error\n        });\n\n        // Return temporary state pending server validation\n        return {\n          status: 'active',\n          needsServerValidation: true,\n          originalTransactionId: cachedOriginalTransactionId\n        };\n      }\n    }\n\n    /**\n     * Restore purchases\n     */\n    async restorePurchases(cachedOriginalTransactionId) {\n      if (!this.isInitialized) {\n        await this.connect();\n      }\n      try {\n        console.log('[Analytics] iap_restore_start');\n        const {\n          results\n        } = await InAppPurchases.getPurchaseHistoryAsync();\n        if (results && results.length > 0) {\n          // Find our product in purchase history\n          const ourProduct = results.find(p => p.productId === PRODUCT_IDS.WEEKLY_PREMIUM);\n          if (ourProduct) {\n            console.log('[Analytics] iap_restore_success', {\n              productId: ourProduct.productId\n            });\n            console.log('✅ [IAP] Restore found purchase:', ourProduct);\n\n            // Verify with server\n            const verifiedState = await this.verifyWithServer(ourProduct.transactionId, cachedOriginalTransactionId);\n            return verifiedState;\n          } else {\n            console.log('[Analytics] iap_restore_empty', {\n              reason: 'no_matching_product'\n            });\n            return {\n              status: 'free',\n              needsServerValidation: false\n            };\n          }\n        } else {\n          console.log('[Analytics] iap_restore_empty', {\n            reason: 'no_purchases'\n          });\n          return {\n            status: 'free',\n            needsServerValidation: false\n          };\n        }\n      } catch (error) {\n        console.error('❌ [IAP] Restore error:', error);\n        console.log('[Analytics] iap_restore_fail', {\n          error\n        });\n        throw new Error('Failed to restore purchases');\n      }\n    }\n\n    /**\n     * Setup purchase update listener (call once)\n     */\n    setupPurchaseListener(callback) {\n      if (this.purchaseListener) {\n        console.warn('[IAP] Purchase listener already set, removing old one');\n        this.purchaseListener.remove();\n      }\n      this.onPurchaseUpdate = callback;\n      this.purchaseListener = InAppPurchases.setPurchaseListener(({\n        responseCode,\n        results,\n        errorCode\n      }) => {\n        console.log('[IAP] Purchase update:', {\n          responseCode,\n          errorCode,\n          resultsCount: results?.length\n        });\n        if (responseCode === InAppPurchases.IAPResponseCode.OK) {\n          if (results && results.length > 0) {\n            const purchase = results[0];\n            console.log('[Analytics] iap_purchase_success', {\n              productId: purchase.productId,\n              transactionId: purchase.transactionId\n            });\n            const state = {\n              status: 'active',\n              // Assume active; server will validate\n              needsServerValidation: true,\n              originalTransactionId: purchase.transactionId\n              // Note: expo-in-app-purchases doesn't reliably provide trial end date\n              // Phase 5 will get this from server validation\n            };\n            this.onPurchaseUpdate?.(state);\n          }\n        } else if (responseCode === InAppPurchases.IAPResponseCode.USER_CANCELED) {\n          console.log('[Analytics] iap_purchase_cancelled');\n          // User cancelled - no state update needed\n        } else if (responseCode === InAppPurchases.IAPResponseCode.DEFERRED) {\n          console.log('[Analytics] iap_purchase_deferred');\n          // Payment deferred (e.g., Ask to Buy) - wait for approval\n        } else {\n          console.log('[Analytics] iap_purchase_fail', {\n            responseCode,\n            errorCode\n          });\n          // Purchase failed - show error\n        }\n      });\n      console.log('✅ [IAP] Purchase listener registered');\n    }\n\n    /**\n     * Remove purchase listener\n     */\n    removePurchaseListener() {\n      if (this.purchaseListener) {\n        this.purchaseListener.remove();\n        this.purchaseListener = null;\n        console.log('✅ [IAP] Purchase listener removed');\n      }\n    }\n\n    /**\n     * Sync entitlement status on app launch (throttled - once per session)\n     * @param cachedOriginalTransactionId - Cached original transaction ID from store\n     * @param needsServerValidation - Whether server validation is needed\n     */\n    async syncEntitlementOnLaunch(cachedOriginalTransactionId, needsServerValidation = false) {\n      // Skip if no transaction ID and no validation needed\n      if (!cachedOriginalTransactionId && !needsServerValidation) {\n        console.log('[IAP] Sync skipped - no transaction ID');\n        return null;\n      }\n      try {\n        console.log('[Analytics] entitlement_sync_start', {\n          hasOriginalTransactionId: !!cachedOriginalTransactionId\n        });\n        const response = await axios.default.get(`${BACKEND_URL}/api/subscription/status`, {\n          params: {\n            originalTransactionId: cachedOriginalTransactionId\n          }\n        });\n        const data = response.data;\n        console.log('[Analytics] entitlement_sync_success', {\n          status: data.status,\n          originalTransactionId: data.originalTransactionId\n        });\n        return {\n          status: data.status === 'active' ? 'active' : data.status === 'trial' ? 'trial' : 'expired',\n          needsServerValidation: false,\n          trialEndsAt: data.trialEndsAt,\n          originalTransactionId: data.originalTransactionId\n        };\n      } catch (error) {\n        console.error('❌ [IAP] Entitlement sync failed:', error);\n        console.log('[Analytics] entitlement_sync_fail', {\n          reason: 'network_or_server_error'\n        });\n\n        // Return null - keep previous local state (don't flip to free)\n        return null;\n      }\n    }\n\n    /**\n     * Check if IAP is available on platform\n     */\n    isAvailable() {\n      // IAP only works on iOS/Android, not web\n      return Platform.default.OS === 'ios' || Platform.default.OS === 'android';\n    }\n  }\n\n  // Export singleton instance\n  const iapService = new IAPService();\n});","lineCount":362,"map":[[27,2,14,0,"Object"],[27,8,14,0],[27,9,14,0,"defineProperty"],[27,23,14,0],[27,24,14,0,"exports"],[27,31,14,0],[28,4,14,0,"enumerable"],[28,14,14,0],[29,4,14,0,"get"],[29,7,14,0],[29,18,14,0,"get"],[29,19,14,0],[30,6,14,0],[30,13,14,0,"PRODUCT_IDS"],[30,24,14,0],[31,4,14,0],[32,2,14,0],[33,2,316,0,"Object"],[33,8,316,0],[33,9,316,0,"defineProperty"],[33,23,316,0],[33,24,316,0,"exports"],[33,31,316,0],[34,4,316,0,"enumerable"],[34,14,316,0],[35,4,316,0,"get"],[35,7,316,0],[35,18,316,0,"get"],[35,19,316,0],[36,6,316,0],[36,13,316,0,"iapService"],[36,23,316,0],[37,4,316,0],[38,2,316,0],[39,2,316,43],[39,6,316,43,"_expoVirtualEnv"],[39,21,316,43],[39,24,316,43,"require"],[39,31,316,43],[39,32,316,43,"_dependencyMap"],[39,46,316,43],[40,2,5,0],[40,6,5,0,"_expoInAppPurchases"],[40,25,5,0],[40,28,5,0,"require"],[40,35,5,0],[40,36,5,0,"_dependencyMap"],[40,50,5,0],[41,2,5,0],[41,6,5,0,"InAppPurchases"],[41,20,5,0],[41,23,5,0,"_interopNamespace"],[41,40,5,0],[41,41,5,0,"_expoInAppPurchases"],[41,60,5,0],[42,2,5,56],[42,6,5,56,"_reactNativeWebDistExportsPlatform"],[42,40,5,56],[42,43,5,56,"require"],[42,50,5,56],[42,51,5,56,"_dependencyMap"],[42,65,5,56],[43,2,5,56],[43,6,5,56,"Platform"],[43,14,5,56],[43,17,5,56,"_interopDefault"],[43,32,5,56],[43,33,5,56,"_reactNativeWebDistExportsPlatform"],[43,67,5,56],[44,2,7,0],[44,6,7,0,"_axios"],[44,12,7,0],[44,15,7,0,"require"],[44,22,7,0],[44,23,7,0,"_dependencyMap"],[44,37,7,0],[45,2,7,0],[45,6,7,0,"axios"],[45,11,7,0],[45,14,7,0,"_interopDefault"],[45,29,7,0],[45,30,7,0,"_axios"],[45,36,7,0],[46,2,8,0],[46,6,8,0,"_expoConstants"],[46,20,8,0],[46,23,8,0,"require"],[46,30,8,0],[46,31,8,0,"_dependencyMap"],[46,45,8,0],[47,2,8,0],[47,6,8,0,"Constants"],[47,15,8,0],[47,18,8,0,"_interopDefault"],[47,33,8,0],[47,34,8,0,"_expoConstants"],[47,48,8,0],[48,2,1,0],[49,0,2,0],[50,0,3,0],[51,0,4,0],[53,2,10,0],[54,2,11,0],[54,8,11,6,"BACKEND_URL"],[54,19,11,17],[54,22,11,20,"Constants"],[54,31,11,29],[54,32,11,29,"default"],[54,39,11,29],[54,40,11,30,"expoConfig"],[54,50,11,40],[54,52,11,42,"extra"],[54,57,11,47],[54,59,11,49,"EXPO_PUBLIC_BACKEND_URL"],[54,82,11,72],[54,86,11,72,"_expoVirtualEnv"],[54,101,11,72],[54,102,11,72,"env"],[54,105,11,72],[54,106,11,72,"EXPO_PUBLIC_BACKEND_URL"],[54,129,11,111],[54,133,11,115],[54,156,11,138],[56,2,13,0],[57,2,14,7],[57,8,14,13,"PRODUCT_IDS"],[57,19,14,24],[57,22,14,27],[58,4,15,2,"WEEKLY_PREMIUM"],[58,18,15,16],[58,20,15,18],[58,58,15,56],[58,59,15,58],[59,2,16,0],[59,3,16,1],[60,2,25,0],[60,8,25,6,"IAPService"],[60,18,25,16],[60,19,25,17],[61,4,26,10,"isInitialized"],[61,17,26,23],[61,20,26,26],[61,25,26,31],[62,4,27,10,"purchaseListener"],[62,20,27,26],[62,23,27,65],[62,27,27,69],[63,4,28,10,"onPurchaseUpdate"],[63,20,28,26],[63,23,28,74],[63,27,28,78],[65,4,30,2],[66,0,31,0],[67,0,32,0],[68,4,33,2],[68,10,33,8,"connect"],[68,17,33,15,"connect"],[68,18,33,15],[68,20,33,33],[69,6,34,4],[69,10,34,8],[69,14,34,12],[69,15,34,13,"isInitialized"],[69,28,34,26],[69,30,34,28],[70,8,35,6,"console"],[70,15,35,13],[70,16,35,14,"log"],[70,19,35,17],[70,20,35,18],[70,47,35,45],[70,48,35,46],[71,8,36,6],[72,6,37,4],[73,6,39,4],[73,10,39,8],[74,8,40,6],[74,14,40,12,"InAppPurchases"],[74,28,40,26],[74,29,40,27,"connectAsync"],[74,41,40,39],[74,42,40,40],[74,43,40,41],[75,8,41,6],[75,12,41,10],[75,13,41,11,"isInitialized"],[75,26,41,24],[75,29,41,27],[75,33,41,31],[76,8,42,6,"console"],[76,15,42,13],[76,16,42,14,"log"],[76,19,42,17],[76,20,42,18],[76,42,42,40],[76,44,42,42],[77,10,42,44,"platform"],[77,18,42,52],[77,20,42,54,"Platform"],[77,28,42,62],[77,29,42,62,"default"],[77,36,42,62],[77,37,42,63,"OS"],[78,8,42,66],[78,9,42,67],[78,10,42,68],[79,8,43,6,"console"],[79,15,43,13],[79,16,43,14,"log"],[79,19,43,17],[79,20,43,18],[79,52,43,50],[79,53,43,51],[80,6,44,4],[80,7,44,5],[80,8,44,6],[80,15,44,13,"error"],[80,20,44,18],[80,22,44,20],[81,8,45,6,"console"],[81,15,45,13],[81,16,45,14,"error"],[81,21,45,19],[81,22,45,20],[81,50,45,48],[81,52,45,50,"error"],[81,57,45,55],[81,58,45,56],[82,8,46,6],[82,14,46,12],[82,18,46,16,"Error"],[82,23,46,21],[82,24,46,22],[82,56,46,54],[82,57,46,55],[83,6,47,4],[84,4,48,2],[86,4,50,2],[87,0,51,0],[88,0,52,0],[89,4,53,2],[89,10,53,8,"disconnect"],[89,20,53,18,"disconnect"],[89,21,53,18],[89,23,53,36],[90,6,54,4],[90,10,54,8],[90,14,54,12],[90,15,54,13,"purchaseListener"],[90,31,54,29],[90,33,54,31],[91,8,55,6],[91,12,55,10],[91,13,55,11,"purchaseListener"],[91,29,55,27],[91,30,55,28,"remove"],[91,36,55,34],[91,37,55,35],[91,38,55,36],[92,8,56,6],[92,12,56,10],[92,13,56,11,"purchaseListener"],[92,29,56,27],[92,32,56,30],[92,36,56,34],[93,6,57,4],[94,6,59,4],[94,10,59,8],[95,8,60,6],[95,14,60,12,"InAppPurchases"],[95,28,60,26],[95,29,60,27,"disconnectAsync"],[95,44,60,42],[95,45,60,43],[95,46,60,44],[96,8,61,6],[96,12,61,10],[96,13,61,11,"isInitialized"],[96,26,61,24],[96,29,61,27],[96,34,61,32],[97,8,62,6,"console"],[97,15,62,13],[97,16,62,14,"log"],[97,19,62,17],[97,20,62,18],[97,42,62,40],[97,43,62,41],[98,6,63,4],[98,7,63,5],[98,8,63,6],[98,15,63,13,"error"],[98,20,63,18],[98,22,63,20],[99,8,64,6,"console"],[99,15,64,13],[99,16,64,14,"error"],[99,21,64,19],[99,22,64,20],[99,49,64,47],[99,51,64,49,"error"],[99,56,64,54],[99,57,64,55],[100,6,65,4],[101,4,66,2],[103,4,68,2],[104,0,69,0],[105,0,70,0],[106,4,71,2],[106,10,71,8,"getProducts"],[106,21,71,19,"getProducts"],[106,22,71,20,"productIds"],[106,32,71,40],[106,34,71,84],[107,6,72,4],[107,10,72,8],[107,11,72,9],[107,15,72,13],[107,16,72,14,"isInitialized"],[107,29,72,27],[107,31,72,29],[108,8,73,6],[108,14,73,12],[108,18,73,16],[108,19,73,17,"connect"],[108,26,73,24],[108,27,73,25],[108,28,73,26],[109,6,74,4],[110,6,76,4],[110,10,76,8],[111,8,77,6],[111,14,77,12],[112,10,77,14,"results"],[112,17,77,21],[113,10,77,23,"responseCode"],[114,8,77,36],[114,9,77,37],[114,12,77,40],[114,18,77,46,"InAppPurchases"],[114,32,77,60],[114,33,77,61,"getProductsAsync"],[114,49,77,77],[114,50,77,78,"productIds"],[114,60,77,88],[114,61,77,89],[115,8,79,6],[115,12,79,10,"responseCode"],[115,24,79,22],[115,29,79,27,"InAppPurchases"],[115,43,79,41],[115,44,79,42,"IAPResponseCode"],[115,59,79,57],[115,60,79,58,"OK"],[115,62,79,60],[115,64,79,62],[116,10,80,8,"console"],[116,17,80,15],[116,18,80,16,"log"],[116,21,80,19],[116,22,80,20],[116,55,80,53],[116,57,80,55],[117,12,80,57,"count"],[117,17,80,62],[117,19,80,64,"results"],[117,26,80,71],[117,28,80,73,"length"],[117,34,80,79],[117,38,80,83],[118,10,80,85],[118,11,80,86],[118,12,80,87],[119,10,81,8,"console"],[119,17,81,15],[119,18,81,16,"log"],[119,21,81,19],[119,22,81,20],[119,48,81,46],[119,50,81,48,"results"],[119,57,81,55],[119,58,81,56],[120,10,82,8],[120,17,82,15,"results"],[120,24,82,22],[120,28,82,26],[120,30,82,28],[121,8,83,6],[121,9,83,7],[121,15,83,13],[122,10,84,8,"console"],[122,17,84,15],[122,18,84,16,"error"],[122,23,84,21],[122,24,84,22],[122,59,84,57],[122,61,84,59,"responseCode"],[122,73,84,71],[122,74,84,72],[123,10,85,8],[123,17,85,15],[123,19,85,17],[124,8,86,6],[125,6,87,4],[125,7,87,5],[125,8,87,6],[125,15,87,13,"error"],[125,20,87,18],[125,22,87,20],[126,8,88,6,"console"],[126,15,88,13],[126,16,88,14,"error"],[126,21,88,19],[126,22,88,20],[126,51,88,49],[126,53,88,51,"error"],[126,58,88,56],[126,59,88,57],[127,8,89,6],[127,15,89,13],[127,17,89,15],[128,6,90,4],[129,4,91,2],[131,4,93,2],[132,0,94,0],[133,0,95,0],[134,4,96,2],[134,10,96,8,"purchaseProduct"],[134,25,96,23,"purchaseProduct"],[134,26,96,24,"productId"],[134,35,96,41],[134,37,96,58],[135,6,97,4],[135,10,97,8],[135,11,97,9],[135,15,97,13],[135,16,97,14,"isInitialized"],[135,29,97,27],[135,31,97,29],[136,8,98,6],[136,14,98,12],[136,18,98,16],[136,19,98,17,"connect"],[136,26,98,24],[136,27,98,25],[136,28,98,26],[137,6,99,4],[138,6,101,4],[138,10,101,8],[139,8,102,6,"console"],[139,15,102,13],[139,16,102,14,"log"],[139,19,102,17],[139,20,102,18],[139,52,102,50],[139,54,102,52],[140,10,102,54,"productId"],[141,8,102,64],[141,9,102,65],[141,10,102,66],[142,8,103,6],[142,14,103,12,"InAppPurchases"],[142,28,103,26],[142,29,103,27,"purchaseItemAsync"],[142,46,103,44],[142,47,103,45,"productId"],[142,56,103,54],[142,57,103,55],[143,8,104,6],[144,6,105,4],[144,7,105,5],[144,8,105,6],[144,15,105,13,"error"],[144,20,105,23],[144,22,105,25],[145,8,106,6,"console"],[145,15,106,13],[145,16,106,14,"error"],[145,21,106,19],[145,22,106,20],[145,47,106,45],[145,49,106,47,"error"],[145,54,106,52],[145,55,106,53],[146,8,107,6,"console"],[146,15,107,13],[146,16,107,14,"log"],[146,19,107,17],[146,20,107,18],[146,51,107,49],[146,53,107,51],[147,10,107,53,"error"],[147,15,107,58],[147,17,107,60,"error"],[147,22,107,65],[147,24,107,67,"message"],[148,8,107,75],[148,9,107,76],[148,10,107,77],[149,8,108,6],[149,14,108,12,"error"],[149,19,108,17],[150,6,109,4],[151,4,110,2],[153,4,112,2],[154,0,113,0],[155,0,114,0],[156,0,115,0],[157,0,116,0],[158,4,117,2],[158,10,117,8,"verifyWithServer"],[158,26,117,24,"verifyWithServer"],[158,27,118,4,"transactionId"],[158,40,118,25],[158,42,119,4,"cachedOriginalTransactionId"],[158,69,119,40],[158,71,120,32],[159,6,121,4],[159,10,121,8],[160,8,122,6,"console"],[160,15,122,13],[160,16,122,14,"log"],[160,19,122,17],[160,20,122,18],[160,59,122,57],[160,61,122,59],[161,10,122,61,"transactionId"],[162,8,122,75],[162,9,122,76],[162,10,122,77],[163,8,124,6],[163,14,124,12,"response"],[163,22,124,20],[163,25,124,23],[163,31,124,29,"axios"],[163,36,124,34],[163,37,124,34,"default"],[163,44,124,34],[163,45,124,35,"post"],[163,49,124,39],[163,50,124,40],[163,53,124,43,"BACKEND_URL"],[163,64,124,54],[163,90,124,80],[163,92,124,82],[164,10,125,8,"platform"],[164,18,125,16],[164,20,125,18],[164,25,125,23],[165,10,126,8,"transactionId"],[165,23,126,21],[166,10,127,8,"originalTransactionId"],[166,31,127,29],[166,33,127,31,"cachedOriginalTransactionId"],[167,8,128,6],[167,9,128,7],[167,10,128,8],[168,8,130,6],[168,14,130,12,"data"],[168,18,130,16],[168,21,130,19,"response"],[168,29,130,27],[168,30,130,28,"data"],[168,34,130,32],[169,8,131,6,"console"],[169,15,131,13],[169,16,131,14,"log"],[169,19,131,17],[169,20,131,18],[169,61,131,59],[169,63,131,61],[170,10,132,8,"status"],[170,16,132,14],[170,18,132,16,"data"],[170,22,132,20],[170,23,132,21,"status"],[170,29,132,27],[171,10,133,8,"originalTransactionId"],[171,31,133,29],[171,33,133,31,"data"],[171,37,133,35],[171,38,133,36,"originalTransactionId"],[172,8,134,6],[172,9,134,7],[172,10,134,8],[173,8,136,6],[173,15,136,13],[174,10,137,8,"status"],[174,16,137,14],[174,18,137,16,"data"],[174,22,137,20],[174,23,137,21,"status"],[174,29,137,27],[174,34,137,32],[174,42,137,40],[174,45,137,43],[174,53,137,51],[174,56,137,54,"data"],[174,60,137,58],[174,61,137,59,"status"],[174,67,137,65],[174,72,137,70],[174,79,137,77],[174,82,137,80],[174,89,137,87],[174,92,137,90],[174,101,137,99],[175,10,138,8,"needsServerValidation"],[175,31,138,29],[175,33,138,31],[175,38,138,36],[176,10,139,8,"trialEndsAt"],[176,21,139,19],[176,23,139,21,"data"],[176,27,139,25],[176,28,139,26,"trialEndsAt"],[176,39,139,37],[177,10,140,8,"originalTransactionId"],[177,31,140,29],[177,33,140,31,"data"],[177,37,140,35],[177,38,140,36,"originalTransactionId"],[178,8,141,6],[178,9,141,7],[179,6,142,4],[179,7,142,5],[179,8,142,6],[179,15,142,13,"error"],[179,20,142,18],[179,22,142,20],[180,8,143,6,"console"],[180,15,143,13],[180,16,143,14,"error"],[180,21,143,19],[180,22,143,20],[180,59,143,57],[180,61,143,59,"error"],[180,66,143,64],[180,67,143,65],[181,8,144,6,"console"],[181,15,144,13],[181,16,144,14,"log"],[181,19,144,17],[181,20,144,18],[181,58,144,56],[181,60,144,58],[182,10,144,60,"error"],[183,8,144,66],[183,9,144,67],[183,10,144,68],[185,8,146,6],[186,8,147,6],[186,15,147,13],[187,10,148,8,"status"],[187,16,148,14],[187,18,148,16],[187,26,148,24],[188,10,149,8,"needsServerValidation"],[188,31,149,29],[188,33,149,31],[188,37,149,35],[189,10,150,8,"originalTransactionId"],[189,31,150,29],[189,33,150,31,"cachedOriginalTransactionId"],[190,8,151,6],[190,9,151,7],[191,6,152,4],[192,4,153,2],[194,4,155,2],[195,0,156,0],[196,0,157,0],[197,4,158,2],[197,10,158,8,"restorePurchases"],[197,26,158,24,"restorePurchases"],[197,27,158,25,"cachedOriginalTransactionId"],[197,54,158,61],[197,56,158,91],[198,6,159,4],[198,10,159,8],[198,11,159,9],[198,15,159,13],[198,16,159,14,"isInitialized"],[198,29,159,27],[198,31,159,29],[199,8,160,6],[199,14,160,12],[199,18,160,16],[199,19,160,17,"connect"],[199,26,160,24],[199,27,160,25],[199,28,160,26],[200,6,161,4],[201,6,163,4],[201,10,163,8],[202,8,164,6,"console"],[202,15,164,13],[202,16,164,14,"log"],[202,19,164,17],[202,20,164,18],[202,51,164,49],[202,52,164,50],[203,8,165,6],[203,14,165,12],[204,10,165,14,"results"],[205,8,165,22],[205,9,165,23],[205,12,165,26],[205,18,165,32,"InAppPurchases"],[205,32,165,46],[205,33,165,47,"getPurchaseHistoryAsync"],[205,56,165,70],[205,57,165,71],[205,58,165,72],[206,8,167,6],[206,12,167,10,"results"],[206,19,167,17],[206,23,167,21,"results"],[206,30,167,28],[206,31,167,29,"length"],[206,37,167,35],[206,40,167,38],[206,41,167,39],[206,43,167,41],[207,10,168,8],[208,10,169,8],[208,16,169,14,"ourProduct"],[208,26,169,24],[208,29,169,27,"results"],[208,36,169,34],[208,37,169,35,"find"],[208,41,169,39],[208,42,170,11,"p"],[208,43,170,12],[208,47,170,17,"p"],[208,48,170,18],[208,49,170,19,"productId"],[208,58,170,28],[208,63,170,33,"PRODUCT_IDS"],[208,74,170,44],[208,75,170,45,"WEEKLY_PREMIUM"],[208,89,171,8],[208,90,171,9],[209,10,173,8],[209,14,173,12,"ourProduct"],[209,24,173,22],[209,26,173,24],[210,12,174,10,"console"],[210,19,174,17],[210,20,174,18,"log"],[210,23,174,21],[210,24,174,22],[210,57,174,55],[210,59,174,57],[211,14,174,59,"productId"],[211,23,174,68],[211,25,174,70,"ourProduct"],[211,35,174,80],[211,36,174,81,"productId"],[212,12,174,91],[212,13,174,92],[212,14,174,93],[213,12,175,10,"console"],[213,19,175,17],[213,20,175,18,"log"],[213,23,175,21],[213,24,175,22],[213,57,175,55],[213,59,175,57,"ourProduct"],[213,69,175,67],[213,70,175,68],[215,12,177,10],[216,12,178,10],[216,18,178,16,"verifiedState"],[216,31,178,29],[216,34,178,32],[216,40,178,38],[216,44,178,42],[216,45,178,43,"verifyWithServer"],[216,61,178,59],[216,62,179,12,"ourProduct"],[216,72,179,22],[216,73,179,23,"transactionId"],[216,86,179,36],[216,88,180,12,"cachedOriginalTransactionId"],[216,115,181,10],[216,116,181,11],[217,12,183,10],[217,19,183,17,"verifiedState"],[217,32,183,30],[218,10,184,8],[218,11,184,9],[218,17,184,15],[219,12,185,10,"console"],[219,19,185,17],[219,20,185,18,"log"],[219,23,185,21],[219,24,185,22],[219,55,185,53],[219,57,185,55],[220,14,185,57,"reason"],[220,20,185,63],[220,22,185,65],[221,12,185,87],[221,13,185,88],[221,14,185,89],[222,12,186,10],[222,19,186,17],[223,14,186,19,"status"],[223,20,186,25],[223,22,186,27],[223,28,186,33],[224,14,186,35,"needsServerValidation"],[224,35,186,56],[224,37,186,58],[225,12,186,64],[225,13,186,65],[226,10,187,8],[227,8,188,6],[227,9,188,7],[227,15,188,13],[228,10,189,8,"console"],[228,17,189,15],[228,18,189,16,"log"],[228,21,189,19],[228,22,189,20],[228,53,189,51],[228,55,189,53],[229,12,189,55,"reason"],[229,18,189,61],[229,20,189,63],[230,10,189,78],[230,11,189,79],[230,12,189,80],[231,10,190,8],[231,17,190,15],[232,12,190,17,"status"],[232,18,190,23],[232,20,190,25],[232,26,190,31],[233,12,190,33,"needsServerValidation"],[233,33,190,54],[233,35,190,56],[234,10,190,62],[234,11,190,63],[235,8,191,6],[236,6,192,4],[236,7,192,5],[236,8,192,6],[236,15,192,13,"error"],[236,20,192,18],[236,22,192,20],[237,8,193,6,"console"],[237,15,193,13],[237,16,193,14,"error"],[237,21,193,19],[237,22,193,20],[237,46,193,44],[237,48,193,46,"error"],[237,53,193,51],[237,54,193,52],[238,8,194,6,"console"],[238,15,194,13],[238,16,194,14,"log"],[238,19,194,17],[238,20,194,18],[238,50,194,48],[238,52,194,50],[239,10,194,52,"error"],[240,8,194,58],[240,9,194,59],[240,10,194,60],[241,8,195,6],[241,14,195,12],[241,18,195,16,"Error"],[241,23,195,21],[241,24,195,22],[241,53,195,51],[241,54,195,52],[242,6,196,4],[243,4,197,2],[245,4,199,2],[246,0,200,0],[247,0,201,0],[248,4,202,2,"setupPurchaseListener"],[248,25,202,23,"setupPurchaseListener"],[248,26,202,24,"callback"],[248,34,202,68],[248,36,202,76],[249,6,203,4],[249,10,203,8],[249,14,203,12],[249,15,203,13,"purchaseListener"],[249,31,203,29],[249,33,203,31],[250,8,204,6,"console"],[250,15,204,13],[250,16,204,14,"warn"],[250,20,204,18],[250,21,204,19],[250,76,204,74],[250,77,204,75],[251,8,205,6],[251,12,205,10],[251,13,205,11,"purchaseListener"],[251,29,205,27],[251,30,205,28,"remove"],[251,36,205,34],[251,37,205,35],[251,38,205,36],[252,6,206,4],[253,6,208,4],[253,10,208,8],[253,11,208,9,"onPurchaseUpdate"],[253,27,208,25],[253,30,208,28,"callback"],[253,38,208,36],[254,6,210,4],[254,10,210,8],[254,11,210,9,"purchaseListener"],[254,27,210,25],[254,30,210,28,"InAppPurchases"],[254,44,210,42],[254,45,210,43,"setPurchaseListener"],[254,64,210,62],[254,65,211,6],[254,66,211,7],[255,8,211,9,"responseCode"],[255,20,211,21],[256,8,211,23,"results"],[256,15,211,30],[257,8,211,32,"errorCode"],[258,6,211,42],[258,7,211,43],[258,12,211,48],[259,8,212,8,"console"],[259,15,212,15],[259,16,212,16,"log"],[259,19,212,19],[259,20,212,20],[259,44,212,44],[259,46,212,46],[260,10,212,48,"responseCode"],[260,22,212,60],[261,10,212,62,"errorCode"],[261,19,212,71],[262,10,212,73,"resultsCount"],[262,22,212,85],[262,24,212,87,"results"],[262,31,212,94],[262,33,212,96,"length"],[263,8,212,103],[263,9,212,104],[263,10,212,105],[264,8,214,8],[264,12,214,12,"responseCode"],[264,24,214,24],[264,29,214,29,"InAppPurchases"],[264,43,214,43],[264,44,214,44,"IAPResponseCode"],[264,59,214,59],[264,60,214,60,"OK"],[264,62,214,62],[264,64,214,64],[265,10,215,10],[265,14,215,14,"results"],[265,21,215,21],[265,25,215,25,"results"],[265,32,215,32],[265,33,215,33,"length"],[265,39,215,39],[265,42,215,42],[265,43,215,43],[265,45,215,45],[266,12,216,12],[266,18,216,18,"purchase"],[266,26,216,26],[266,29,216,29,"results"],[266,36,216,36],[266,37,216,37],[266,38,216,38],[266,39,216,39],[267,12,217,12,"console"],[267,19,217,19],[267,20,217,20,"log"],[267,23,217,23],[267,24,217,24],[267,58,217,58],[267,60,217,60],[268,14,218,14,"productId"],[268,23,218,23],[268,25,218,25,"purchase"],[268,33,218,33],[268,34,218,34,"productId"],[268,43,218,43],[269,14,219,14,"transactionId"],[269,27,219,27],[269,29,219,29,"purchase"],[269,37,219,37],[269,38,219,38,"transactionId"],[270,12,220,12],[270,13,220,13],[270,14,220,14],[271,12,222,12],[271,18,222,18,"state"],[271,23,222,42],[271,26,222,45],[272,14,223,14,"status"],[272,20,223,20],[272,22,223,22],[272,30,223,30],[273,14,223,32],[274,14,224,14,"needsServerValidation"],[274,35,224,35],[274,37,224,37],[274,41,224,41],[275,14,225,14,"originalTransactionId"],[275,35,225,35],[275,37,225,37,"purchase"],[275,45,225,45],[275,46,225,46,"transactionId"],[276,14,226,14],[277,14,227,14],[278,12,228,12],[278,13,228,13],[279,12,230,12],[279,16,230,16],[279,17,230,17,"onPurchaseUpdate"],[279,33,230,33],[279,36,230,36,"state"],[279,41,230,41],[279,42,230,42],[280,10,231,10],[281,8,232,8],[281,9,232,9],[281,15,232,15],[281,19,232,19,"responseCode"],[281,31,232,31],[281,36,232,36,"InAppPurchases"],[281,50,232,50],[281,51,232,51,"IAPResponseCode"],[281,66,232,66],[281,67,232,67,"USER_CANCELED"],[281,80,232,80],[281,82,232,82],[282,10,233,10,"console"],[282,17,233,17],[282,18,233,18,"log"],[282,21,233,21],[282,22,233,22],[282,58,233,58],[282,59,233,59],[283,10,234,10],[284,8,235,8],[284,9,235,9],[284,15,235,15],[284,19,235,19,"responseCode"],[284,31,235,31],[284,36,235,36,"InAppPurchases"],[284,50,235,50],[284,51,235,51,"IAPResponseCode"],[284,66,235,66],[284,67,235,67,"DEFERRED"],[284,75,235,75],[284,77,235,77],[285,10,236,10,"console"],[285,17,236,17],[285,18,236,18,"log"],[285,21,236,21],[285,22,236,22],[285,57,236,57],[285,58,236,58],[286,10,237,10],[287,8,238,8],[287,9,238,9],[287,15,238,15],[288,10,239,10,"console"],[288,17,239,17],[288,18,239,18,"log"],[288,21,239,21],[288,22,239,22],[288,53,239,53],[288,55,239,55],[289,12,239,57,"responseCode"],[289,24,239,69],[290,12,239,71,"errorCode"],[291,10,239,81],[291,11,239,82],[291,12,239,83],[292,10,240,10],[293,8,241,8],[294,6,242,6],[294,7,243,4],[294,8,243,5],[295,6,245,4,"console"],[295,13,245,11],[295,14,245,12,"log"],[295,17,245,15],[295,18,245,16],[295,56,245,54],[295,57,245,55],[296,4,246,2],[298,4,248,2],[299,0,249,0],[300,0,250,0],[301,4,251,2,"removePurchaseListener"],[301,26,251,24,"removePurchaseListener"],[301,27,251,24],[301,29,251,33],[302,6,252,4],[302,10,252,8],[302,14,252,12],[302,15,252,13,"purchaseListener"],[302,31,252,29],[302,33,252,31],[303,8,253,6],[303,12,253,10],[303,13,253,11,"purchaseListener"],[303,29,253,27],[303,30,253,28,"remove"],[303,36,253,34],[303,37,253,35],[303,38,253,36],[304,8,254,6],[304,12,254,10],[304,13,254,11,"purchaseListener"],[304,29,254,27],[304,32,254,30],[304,36,254,34],[305,8,255,6,"console"],[305,15,255,13],[305,16,255,14,"log"],[305,19,255,17],[305,20,255,18],[305,55,255,53],[305,56,255,54],[306,6,256,4],[307,4,257,2],[309,4,259,2],[310,0,260,0],[311,0,261,0],[312,0,262,0],[313,0,263,0],[314,4,264,2],[314,10,264,8,"syncEntitlementOnLaunch"],[314,33,264,31,"syncEntitlementOnLaunch"],[314,34,265,4,"cachedOriginalTransactionId"],[314,61,265,40],[314,63,266,4,"needsServerValidation"],[314,84,266,34],[314,87,266,37],[314,92,266,42],[314,94,267,39],[315,6,268,4],[316,6,269,4],[316,10,269,8],[316,11,269,9,"cachedOriginalTransactionId"],[316,38,269,36],[316,42,269,40],[316,43,269,41,"needsServerValidation"],[316,64,269,62],[316,66,269,64],[317,8,270,6,"console"],[317,15,270,13],[317,16,270,14,"log"],[317,19,270,17],[317,20,270,18],[317,60,270,58],[317,61,270,59],[318,8,271,6],[318,15,271,13],[318,19,271,17],[319,6,272,4],[320,6,274,4],[320,10,274,8],[321,8,275,6,"console"],[321,15,275,13],[321,16,275,14,"log"],[321,19,275,17],[321,20,275,18],[321,56,275,54],[321,58,275,56],[322,10,276,8,"hasOriginalTransactionId"],[322,34,276,32],[322,36,276,34],[322,37,276,35],[322,38,276,36,"cachedOriginalTransactionId"],[323,8,277,6],[323,9,277,7],[323,10,277,8],[324,8,279,6],[324,14,279,12,"response"],[324,22,279,20],[324,25,279,23],[324,31,279,29,"axios"],[324,36,279,34],[324,37,279,34,"default"],[324,44,279,34],[324,45,279,35,"get"],[324,48,279,38],[324,49,279,39],[324,52,279,42,"BACKEND_URL"],[324,63,279,53],[324,89,279,79],[324,91,279,81],[325,10,280,8,"params"],[325,16,280,14],[325,18,280,16],[326,12,281,10,"originalTransactionId"],[326,33,281,31],[326,35,281,33,"cachedOriginalTransactionId"],[327,10,282,8],[328,8,283,6],[328,9,283,7],[328,10,283,8],[329,8,285,6],[329,14,285,12,"data"],[329,18,285,16],[329,21,285,19,"response"],[329,29,285,27],[329,30,285,28,"data"],[329,34,285,32],[330,8,286,6,"console"],[330,15,286,13],[330,16,286,14,"log"],[330,19,286,17],[330,20,286,18],[330,58,286,56],[330,60,286,58],[331,10,287,8,"status"],[331,16,287,14],[331,18,287,16,"data"],[331,22,287,20],[331,23,287,21,"status"],[331,29,287,27],[332,10,288,8,"originalTransactionId"],[332,31,288,29],[332,33,288,31,"data"],[332,37,288,35],[332,38,288,36,"originalTransactionId"],[333,8,289,6],[333,9,289,7],[333,10,289,8],[334,8,291,6],[334,15,291,13],[335,10,292,8,"status"],[335,16,292,14],[335,18,292,16,"data"],[335,22,292,20],[335,23,292,21,"status"],[335,29,292,27],[335,34,292,32],[335,42,292,40],[335,45,292,43],[335,53,292,51],[335,56,292,54,"data"],[335,60,292,58],[335,61,292,59,"status"],[335,67,292,65],[335,72,292,70],[335,79,292,77],[335,82,292,80],[335,89,292,87],[335,92,292,90],[335,101,292,99],[336,10,293,8,"needsServerValidation"],[336,31,293,29],[336,33,293,31],[336,38,293,36],[337,10,294,8,"trialEndsAt"],[337,21,294,19],[337,23,294,21,"data"],[337,27,294,25],[337,28,294,26,"trialEndsAt"],[337,39,294,37],[338,10,295,8,"originalTransactionId"],[338,31,295,29],[338,33,295,31,"data"],[338,37,295,35],[338,38,295,36,"originalTransactionId"],[339,8,296,6],[339,9,296,7],[340,6,297,4],[340,7,297,5],[340,8,297,6],[340,15,297,13,"error"],[340,20,297,18],[340,22,297,20],[341,8,298,6,"console"],[341,15,298,13],[341,16,298,14,"error"],[341,21,298,19],[341,22,298,20],[341,56,298,54],[341,58,298,56,"error"],[341,63,298,61],[341,64,298,62],[342,8,299,6,"console"],[342,15,299,13],[342,16,299,14,"log"],[342,19,299,17],[342,20,299,18],[342,55,299,53],[342,57,299,55],[343,10,299,57,"reason"],[343,16,299,63],[343,18,299,65],[344,8,299,91],[344,9,299,92],[344,10,299,93],[346,8,301,6],[347,8,302,6],[347,15,302,13],[347,19,302,17],[348,6,303,4],[349,4,304,2],[351,4,306,2],[352,0,307,0],[353,0,308,0],[354,4,309,2,"isAvailable"],[354,15,309,13,"isAvailable"],[354,16,309,13],[354,18,309,25],[355,6,310,4],[356,6,311,4],[356,13,311,11,"Platform"],[356,21,311,19],[356,22,311,19,"default"],[356,29,311,19],[356,30,311,20,"OS"],[356,32,311,22],[356,37,311,27],[356,42,311,32],[356,46,311,36,"Platform"],[356,54,311,44],[356,55,311,44,"default"],[356,62,311,44],[356,63,311,45,"OS"],[356,65,311,47],[356,70,311,52],[356,79,311,61],[357,4,312,2],[358,2,313,0],[360,2,315,0],[361,2,316,7],[361,8,316,13,"iapService"],[361,18,316,23],[361,21,316,26],[361,25,316,30,"IAPService"],[361,35,316,40],[361,36,316,41],[361,37,316,42],[362,0,316,43],[362,3]],"functionMap":{"names":["<global>","IAPService","IAPService#connect","IAPService#disconnect","IAPService#getProducts","IAPService#purchaseProduct","IAPService#verifyWithServer","IAPService#restorePurchases","results.find$argument_0","IAPService#setupPurchaseListener","InAppPurchases.setPurchaseListener$argument_0","IAPService#removePurchaseListener","IAPService#syncEntitlementOnLaunch","IAPService#isAvailable"],"mappings":"AAA;ACwB;ECQ;GDe;EEK;GFa;EGK;GHoB;EIK;GJc;EKO;GLoC;EMK;UCY,iDD;GN2B;EQK;MCS;OD+B;GRI;EUK;GVM;EWO;GXwC;EYK;GZG;CDC"},"hasCjsExports":false},"type":"js/module"}]}