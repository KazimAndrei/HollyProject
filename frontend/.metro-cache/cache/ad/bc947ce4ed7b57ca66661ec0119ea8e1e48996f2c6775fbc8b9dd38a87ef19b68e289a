{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":35},"end":{"line":4,"column":26,"index":61}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":62},"end":{"line":5,"column":89,"index":151}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"@expo/vector-icons","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":152},"end":{"line":6,"column":46,"index":198}}],"key":"ow7vkrqkIckRjlSi/+MhMmRYtUE=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":199},"end":{"line":7,"column":40,"index":239}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../utils/deeplink","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":240},"end":{"line":8,"column":53,"index":293}}],"key":"9aX5d5Ml36B4B9QZUzJfaWLaVRY=","exportNames":["*"],"imports":1}},{"name":"../store/useChatStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":294},"end":{"line":9,"column":53,"index":347}}],"key":"GbmElRKOes7feZsTwQ7+Z+HpD9s=","exportNames":["*"],"imports":1}},{"name":"../store/useUserStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":348},"end":{"line":10,"column":53,"index":401}}],"key":"5ijXyHjMlsfMZei+m4htNVv9OS4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/components/CitationChip.tsx\",\n    _s = $RefreshSig$();\n  /**\n   * Citation chip component\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return CitationChip;\n    }\n  });\n  require(_dependencyMap[0], \"react\");\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  var _expoVectorIcons = require(_dependencyMap[2], \"@expo/vector-icons\");\n  var _expoRouter = require(_dependencyMap[3], \"expo-router\");\n  var _utilsDeeplink = require(_dependencyMap[4], \"../utils/deeplink\");\n  var _storeUseChatStore = require(_dependencyMap[5], \"../store/useChatStore\");\n  var _storeUseUserStore = require(_dependencyMap[6], \"../store/useUserStore\");\n  var _reactJsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  function CitationChip(_ref) {\n    _s();\n    var ref = _ref.ref,\n      onPress = _ref.onPress;\n    var router = (0, _expoRouter.useRouter)();\n    var colorScheme = (0, _reactNative.useColorScheme)();\n    var isDark = colorScheme === 'dark';\n    var _useUserStore = (0, _storeUseUserStore.useUserStore)(),\n      locale = _useUserStore.locale;\n    var _useChatStore = (0, _storeUseChatStore.useChatStore)(),\n      setLastTappedCitationRef = _useChatStore.setLastTappedCitationRef;\n    var handlePress = () => {\n      console.log('[Analytics] citation_tap', {\n        ref\n      });\n\n      // Store last tapped ref\n      setLastTappedCitationRef(ref);\n\n      // Navigate to Passage Viewer\n      router.push(`/passage/${encodeURIComponent(ref)}?from=chat_citation`);\n      if (onPress) {\n        onPress(ref);\n      }\n    };\n    var handleLongPress = () => {\n      // Copy full ref on long press\n      _reactNative.Alert.alert('Citation', ref, [{\n        text: 'OK',\n        style: 'default'\n      }]);\n    };\n    var displayRef = (0, _utilsDeeplink.truncateCitation)(ref, 25);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.TouchableOpacity, {\n      style: [styles.chip, isDark ? styles.chipDark : styles.chipLight],\n      onPress: handlePress,\n      onLongPress: handleLongPress,\n      activeOpacity: 0.7,\n      accessible: true,\n      accessibilityLabel: `Open passage ${ref}`,\n      accessibilityRole: \"button\",\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoVectorIcons.Ionicons, {\n        name: \"book-outline\",\n        size: 14,\n        color: isDark ? '#9CA3AF' : '#6B7280'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.Text, {\n        style: [styles.chipText, isDark ? styles.chipTextDark : styles.chipTextLight],\n        children: displayRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this);\n  }\n  _s(CitationChip, \"fYkC8w6HoJkQLqA7ka5mEpiEhmw=\", false, function () {\n    return [_expoRouter.useRouter, _reactNative.useColorScheme, _storeUseUserStore.useUserStore, _storeUseChatStore.useChatStore];\n  });\n  _c = CitationChip;\n  var styles = _reactNative.StyleSheet.create({\n    chip: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      paddingHorizontal: 12,\n      paddingVertical: 6,\n      borderRadius: 16,\n      marginRight: 8,\n      marginTop: 8\n    },\n    chipLight: {\n      backgroundColor: '#E0E7FF'\n    },\n    chipDark: {\n      backgroundColor: '#1F2937'\n    },\n    chipText: {\n      fontSize: 13,\n      fontWeight: '500',\n      marginLeft: 6\n    },\n    chipTextLight: {\n      color: '#4C7CF0'\n    },\n    chipTextDark: {\n      color: '#93C5FD'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"CitationChip\");\n});","lineCount":123,"map":[[6,2,1,0],[7,0,2,0],[8,0,3,0],[9,2,1,0,"Object"],[9,8,1,0],[9,9,1,0,"defineProperty"],[9,23,1,0],[9,24,1,0,"exports"],[9,31,1,0],[10,4,1,0,"value"],[10,9,1,0],[11,2,1,0],[12,2,17,15,"Object"],[12,8,17,15],[12,9,17,15,"defineProperty"],[12,23,17,15],[12,24,17,15,"exports"],[12,31,17,15],[13,4,17,15,"enumerable"],[13,14,17,15],[14,4,17,15,"get"],[14,7,17,15],[14,18,17,15,"get"],[14,19,17,15],[15,6,17,15],[15,13,17,15,"CitationChip"],[15,25,17,15],[16,4,17,15],[17,2,17,15],[18,2,4,0,"require"],[18,9,4,0],[18,10,4,0,"_dependencyMap"],[18,24,4,0],[19,2,5,0],[19,6,5,0,"_reactNative"],[19,18,5,0],[19,21,5,0,"require"],[19,28,5,0],[19,29,5,0,"_dependencyMap"],[19,43,5,0],[20,2,6,0],[20,6,6,0,"_expoVectorIcons"],[20,22,6,0],[20,25,6,0,"require"],[20,32,6,0],[20,33,6,0,"_dependencyMap"],[20,47,6,0],[21,2,7,0],[21,6,7,0,"_expoRouter"],[21,17,7,0],[21,20,7,0,"require"],[21,27,7,0],[21,28,7,0,"_dependencyMap"],[21,42,7,0],[22,2,8,0],[22,6,8,0,"_utilsDeeplink"],[22,20,8,0],[22,23,8,0,"require"],[22,30,8,0],[22,31,8,0,"_dependencyMap"],[22,45,8,0],[23,2,9,0],[23,6,9,0,"_storeUseChatStore"],[23,24,9,0],[23,27,9,0,"require"],[23,34,9,0],[23,35,9,0,"_dependencyMap"],[23,49,9,0],[24,2,10,0],[24,6,10,0,"_storeUseUserStore"],[24,24,10,0],[24,27,10,0,"require"],[24,34,10,0],[24,35,10,0,"_dependencyMap"],[24,49,10,0],[25,2,10,53],[25,6,10,53,"_reactJsxDevRuntime"],[25,25,10,53],[25,28,10,53,"require"],[25,35,10,53],[25,36,10,53,"_dependencyMap"],[25,50,10,53],[26,2,17,15],[26,11,17,24,"CitationChip"],[26,23,17,36,"CitationChip"],[26,24,17,36,"_ref"],[26,28,17,36],[26,30,17,74],[27,4,17,74,"_s"],[27,6,17,74],[28,4,17,74],[28,8,17,39,"ref"],[28,11,17,42],[28,14,17,42,"_ref"],[28,18,17,42],[28,19,17,39,"ref"],[28,22,17,42],[29,6,17,44,"onPress"],[29,13,17,51],[29,16,17,51,"_ref"],[29,20,17,51],[29,21,17,44,"onPress"],[29,28,17,51],[30,4,18,2],[30,8,18,8,"router"],[30,14,18,14],[30,17,18,17],[30,21,18,17,"useRouter"],[30,32,18,26],[30,33,18,26,"useRouter"],[30,42,18,26],[30,44,18,27],[30,45,18,28],[31,4,19,2],[31,8,19,8,"colorScheme"],[31,19,19,19],[31,22,19,22],[31,26,19,22,"useColorScheme"],[31,38,19,36],[31,39,19,36,"useColorScheme"],[31,53,19,36],[31,55,19,37],[31,56,19,38],[32,4,20,2],[32,8,20,8,"isDark"],[32,14,20,14],[32,17,20,17,"colorScheme"],[32,28,20,28],[32,33,20,33],[32,39,20,39],[33,4,21,2],[33,8,21,2,"_useUserStore"],[33,21,21,2],[33,24,21,21],[33,28,21,21,"useUserStore"],[33,46,21,33],[33,47,21,33,"useUserStore"],[33,59,21,33],[33,61,21,34],[33,62,21,35],[34,6,21,10,"locale"],[34,12,21,16],[34,15,21,16,"_useUserStore"],[34,28,21,16],[34,29,21,10,"locale"],[34,35,21,16],[35,4,22,2],[35,8,22,2,"_useChatStore"],[35,21,22,2],[35,24,22,39],[35,28,22,39,"useChatStore"],[35,46,22,51],[35,47,22,51,"useChatStore"],[35,59,22,51],[35,61,22,52],[35,62,22,53],[36,6,22,10,"setLastTappedCitationRef"],[36,30,22,34],[36,33,22,34,"_useChatStore"],[36,46,22,34],[36,47,22,10,"setLastTappedCitationRef"],[36,71,22,34],[37,4,24,2],[37,8,24,8,"handlePress"],[37,19,24,19],[37,22,24,22,"handlePress"],[37,23,24,22],[37,28,24,28],[38,6,25,4,"console"],[38,13,25,11],[38,14,25,12,"log"],[38,17,25,15],[38,18,25,16],[38,44,25,42],[38,46,25,44],[39,8,25,46,"ref"],[40,6,25,50],[40,7,25,51],[40,8,25,52],[42,6,27,4],[43,6,28,4,"setLastTappedCitationRef"],[43,30,28,28],[43,31,28,29,"ref"],[43,34,28,32],[43,35,28,33],[45,6,30,4],[46,6,31,4,"router"],[46,12,31,10],[46,13,31,11,"push"],[46,17,31,15],[46,18,31,16],[46,30,31,28,"encodeURIComponent"],[46,48,31,46],[46,49,31,47,"ref"],[46,52,31,50],[46,53,31,51],[46,74,31,72],[46,75,31,73],[47,6,33,4],[47,10,33,8,"onPress"],[47,17,33,15],[47,19,33,17],[48,8,34,6,"onPress"],[48,15,34,13],[48,16,34,14,"ref"],[48,19,34,17],[48,20,34,18],[49,6,35,4],[50,4,36,2],[50,5,36,3],[51,4,38,2],[51,8,38,8,"handleLongPress"],[51,23,38,23],[51,26,38,26,"handleLongPress"],[51,27,38,26],[51,32,38,32],[52,6,39,4],[53,6,40,4,"Alert"],[53,18,40,9],[53,19,40,9,"Alert"],[53,24,40,9],[53,25,40,10,"alert"],[53,30,40,15],[53,31,40,16],[53,41,40,26],[53,43,40,28,"ref"],[53,46,40,31],[53,48,40,33],[53,49,41,6],[54,8,41,8,"text"],[54,12,41,12],[54,14,41,14],[54,18,41,18],[55,8,41,20,"style"],[55,13,41,25],[55,15,41,27],[56,6,41,37],[56,7,41,38],[56,8,42,5],[56,9,42,6],[57,4,43,2],[57,5,43,3],[58,4,45,2],[58,8,45,8,"displayRef"],[58,18,45,18],[58,21,45,21],[58,25,45,21,"truncateCitation"],[58,39,45,37],[58,40,45,37,"truncateCitation"],[58,56,45,37],[58,58,45,38,"ref"],[58,61,45,41],[58,63,45,43],[58,65,45,45],[58,66,45,46],[59,4,47,2],[59,24,48,4],[59,28,48,4,"_reactJsxDevRuntime"],[59,47,48,4],[59,48,48,4,"jsxDEV"],[59,54,48,4],[59,56,48,5,"_reactNative"],[59,68,48,21],[59,69,48,21,"TouchableOpacity"],[59,85,48,21],[60,6,49,6,"style"],[60,11,49,11],[60,13,49,13],[60,14,49,14,"styles"],[60,20,49,20],[60,21,49,21,"chip"],[60,25,49,25],[60,27,49,27,"isDark"],[60,33,49,33],[60,36,49,36,"styles"],[60,42,49,42],[60,43,49,43,"chipDark"],[60,51,49,51],[60,54,49,54,"styles"],[60,60,49,60],[60,61,49,61,"chipLight"],[60,70,49,70],[60,71,49,72],[61,6,50,6,"onPress"],[61,13,50,13],[61,15,50,15,"handlePress"],[61,26,50,27],[62,6,51,6,"onLongPress"],[62,17,51,17],[62,19,51,19,"handleLongPress"],[62,34,51,35],[63,6,52,6,"activeOpacity"],[63,19,52,19],[63,21,52,21],[63,24,52,25],[64,6,53,6,"accessible"],[64,16,53,16],[64,18,53,18],[64,22,53,23],[65,6,54,6,"accessibilityLabel"],[65,24,54,24],[65,26,54,26],[65,42,54,42,"ref"],[65,45,54,45],[65,47,54,48],[66,6,55,6,"accessibilityRole"],[66,23,55,23],[66,25,55,24],[66,33,55,32],[67,6,55,32,"children"],[67,14,55,32],[67,30,57,6],[67,34,57,6,"_reactJsxDevRuntime"],[67,53,57,6],[67,54,57,6,"jsxDEV"],[67,60,57,6],[67,62,57,7,"_expoVectorIcons"],[67,78,57,15],[67,79,57,15,"Ionicons"],[67,87,57,15],[68,8,57,16,"name"],[68,12,57,20],[68,14,57,21],[68,28,57,35],[69,8,57,36,"size"],[69,12,57,40],[69,14,57,42],[69,16,57,45],[70,8,57,46,"color"],[70,13,57,51],[70,15,57,53,"isDark"],[70,21,57,59],[70,24,57,62],[70,33,57,71],[70,36,57,74],[71,6,57,84],[72,8,57,84,"fileName"],[72,16,57,84],[72,18,57,84,"_jsxFileName"],[72,30,57,84],[73,8,57,84,"lineNumber"],[73,18,57,84],[74,8,57,84,"columnNumber"],[74,20,57,84],[75,6,57,84],[75,13,57,86],[75,14,57,87],[75,29,58,6],[75,33,58,6,"_reactJsxDevRuntime"],[75,52,58,6],[75,53,58,6,"jsxDEV"],[75,59,58,6],[75,61,58,7,"_reactNative"],[75,73,58,11],[75,74,58,11,"Text"],[75,78,58,11],[76,8,58,12,"style"],[76,13,58,17],[76,15,58,19],[76,16,58,20,"styles"],[76,22,58,26],[76,23,58,27,"chipText"],[76,31,58,35],[76,33,58,37,"isDark"],[76,39,58,43],[76,42,58,46,"styles"],[76,48,58,52],[76,49,58,53,"chipTextDark"],[76,61,58,65],[76,64,58,68,"styles"],[76,70,58,74],[76,71,58,75,"chipTextLight"],[76,84,58,88],[76,85,58,90],[77,8,58,90,"children"],[77,16,58,90],[77,18,59,9,"displayRef"],[78,6,59,19],[79,8,59,19,"fileName"],[79,16,59,19],[79,18,59,19,"_jsxFileName"],[79,30,59,19],[80,8,59,19,"lineNumber"],[80,18,59,19],[81,8,59,19,"columnNumber"],[81,20,59,19],[82,6,59,19],[82,13,60,12],[82,14,60,13],[83,4,60,13],[84,6,60,13,"fileName"],[84,14,60,13],[84,16,60,13,"_jsxFileName"],[84,28,60,13],[85,6,60,13,"lineNumber"],[85,16,60,13],[86,6,60,13,"columnNumber"],[86,18,60,13],[87,4,60,13],[87,11,61,22],[87,12,61,23],[88,2,63,0],[89,2,63,1,"_s"],[89,4,63,1],[89,5,17,24,"CitationChip"],[89,17,17,36],[90,4,17,36],[90,12,18,17,"useRouter"],[90,23,18,26],[90,24,18,26,"useRouter"],[90,33,18,26],[90,35,19,22,"useColorScheme"],[90,47,19,36],[90,48,19,36,"useColorScheme"],[90,62,19,36],[90,64,21,21,"useUserStore"],[90,82,21,33],[90,83,21,33,"useUserStore"],[90,95,21,33],[90,97,22,39,"useChatStore"],[90,115,22,51],[90,116,22,51,"useChatStore"],[90,128,22,51],[91,2,22,51],[92,2,22,51,"_c"],[92,4,22,51],[92,7,17,24,"CitationChip"],[92,19,17,36],[93,2,65,0],[93,6,65,6,"styles"],[93,12,65,12],[93,15,65,15,"StyleSheet"],[93,27,65,25],[93,28,65,25,"StyleSheet"],[93,38,65,25],[93,39,65,26,"create"],[93,45,65,32],[93,46,65,33],[94,4,66,2,"chip"],[94,8,66,6],[94,10,66,8],[95,6,67,4,"flexDirection"],[95,19,67,17],[95,21,67,19],[95,26,67,24],[96,6,68,4,"alignItems"],[96,16,68,14],[96,18,68,16],[96,26,68,24],[97,6,69,4,"paddingHorizontal"],[97,23,69,21],[97,25,69,23],[97,27,69,25],[98,6,70,4,"paddingVertical"],[98,21,70,19],[98,23,70,21],[98,24,70,22],[99,6,71,4,"borderRadius"],[99,18,71,16],[99,20,71,18],[99,22,71,20],[100,6,72,4,"marginRight"],[100,17,72,15],[100,19,72,17],[100,20,72,18],[101,6,73,4,"marginTop"],[101,15,73,13],[101,17,73,15],[102,4,74,2],[102,5,74,3],[103,4,75,2,"chipLight"],[103,13,75,11],[103,15,75,13],[104,6,76,4,"backgroundColor"],[104,21,76,19],[104,23,76,21],[105,4,77,2],[105,5,77,3],[106,4,78,2,"chipDark"],[106,12,78,10],[106,14,78,12],[107,6,79,4,"backgroundColor"],[107,21,79,19],[107,23,79,21],[108,4,80,2],[108,5,80,3],[109,4,81,2,"chipText"],[109,12,81,10],[109,14,81,12],[110,6,82,4,"fontSize"],[110,14,82,12],[110,16,82,14],[110,18,82,16],[111,6,83,4,"fontWeight"],[111,16,83,14],[111,18,83,16],[111,23,83,21],[112,6,84,4,"marginLeft"],[112,16,84,14],[112,18,84,16],[113,4,85,2],[113,5,85,3],[114,4,86,2,"chipTextLight"],[114,17,86,15],[114,19,86,17],[115,6,87,4,"color"],[115,11,87,9],[115,13,87,11],[116,4,88,2],[116,5,88,3],[117,4,89,2,"chipTextDark"],[117,16,89,14],[117,18,89,16],[118,6,90,4,"color"],[118,11,90,9],[118,13,90,11],[119,4,91,2],[120,2,92,0],[120,3,92,1],[120,4,92,2],[121,2,92,3],[121,6,92,3,"_c"],[121,8,92,3],[122,2,92,3,"$RefreshReg$"],[122,14,92,3],[122,15,92,3,"_c"],[122,17,92,3],[123,0,92,3],[123,3]],"functionMap":{"names":["<global>","CitationChip","handlePress","handleLongPress"],"mappings":"AAA;eCgB;sBCO;GDY;0BEE;GFK;CDoB"},"hasCjsExports":false},"type":"js/module"}]}