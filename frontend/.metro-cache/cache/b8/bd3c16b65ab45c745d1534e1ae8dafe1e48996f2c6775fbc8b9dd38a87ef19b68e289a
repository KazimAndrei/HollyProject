{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":35},"end":{"line":4,"column":26,"index":61}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/TouchableOpacity","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PnQOoa8QGKpV5+issz6ikk463eg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/useColorScheme","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"gdN+P7eDH4evn7jZBGQVY+YTEvw=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Alert","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PEUC6jrQVoAGZ2qYkvimljMOyJI=","exportNames":["*"],"imports":1}},{"name":"@expo/vector-icons","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":152},"end":{"line":6,"column":46,"index":198}}],"key":"ow7vkrqkIckRjlSi/+MhMmRYtUE=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":199},"end":{"line":7,"column":40,"index":239}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../utils/deeplink","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":240},"end":{"line":8,"column":53,"index":293}}],"key":"9aX5d5Ml36B4B9QZUzJfaWLaVRY=","exportNames":["*"],"imports":1}},{"name":"../store/useChatStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":294},"end":{"line":9,"column":53,"index":347}}],"key":"GbmElRKOes7feZsTwQ7+Z+HpD9s=","exportNames":["*"],"imports":1}},{"name":"../store/useUserStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":348},"end":{"line":10,"column":53,"index":401}}],"key":"5ijXyHjMlsfMZei+m4htNVv9OS4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/components/CitationChip.tsx\";\n  /**\n   * Citation chip component\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return CitationChip;\n    }\n  });\n  require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsTouchableOpacity = require(_dependencyMap[1], \"react-native-web/dist/exports/TouchableOpacity\");\n  var TouchableOpacity = _interopDefault(_reactNativeWebDistExportsTouchableOpacity);\n  var _reactNativeWebDistExportsText = require(_dependencyMap[2], \"react-native-web/dist/exports/Text\");\n  var Text = _interopDefault(_reactNativeWebDistExportsText);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsUseColorScheme = require(_dependencyMap[4], \"react-native-web/dist/exports/useColorScheme\");\n  var useColorScheme = _interopDefault(_reactNativeWebDistExportsUseColorScheme);\n  var _reactNativeWebDistExportsAlert = require(_dependencyMap[5], \"react-native-web/dist/exports/Alert\");\n  var Alert = _interopDefault(_reactNativeWebDistExportsAlert);\n  var _expoVectorIcons = require(_dependencyMap[6], \"@expo/vector-icons\");\n  var _expoRouter = require(_dependencyMap[7], \"expo-router\");\n  var _utilsDeeplink = require(_dependencyMap[8], \"../utils/deeplink\");\n  var _storeUseChatStore = require(_dependencyMap[9], \"../store/useChatStore\");\n  var _storeUseUserStore = require(_dependencyMap[10], \"../store/useUserStore\");\n  var _reactJsxDevRuntime = require(_dependencyMap[11], \"react/jsx-dev-runtime\");\n  function CitationChip({\n    ref,\n    onPress\n  }) {\n    const router = (0, _expoRouter.useRouter)();\n    const colorScheme = (0, useColorScheme.default)();\n    const isDark = colorScheme === 'dark';\n    const {\n      locale\n    } = (0, _storeUseUserStore.useUserStore)();\n    const {\n      setLastTappedCitationRef\n    } = (0, _storeUseChatStore.useChatStore)();\n    const handlePress = () => {\n      console.log('[Analytics] citation_tap', {\n        ref\n      });\n\n      // Store last tapped ref\n      setLastTappedCitationRef(ref);\n\n      // Navigate to Passage Viewer\n      router.push(`/passage/${encodeURIComponent(ref)}?from=chat_citation`);\n      if (onPress) {\n        onPress(ref);\n      }\n    };\n    const handleLongPress = () => {\n      // Copy full ref on long press\n      Alert.default.alert('Citation', ref, [{\n        text: 'OK',\n        style: 'default'\n      }]);\n    };\n    const displayRef = (0, _utilsDeeplink.truncateCitation)(ref, 25);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(TouchableOpacity.default, {\n      style: [styles.chip, isDark ? styles.chipDark : styles.chipLight],\n      onPress: handlePress,\n      onLongPress: handleLongPress,\n      activeOpacity: 0.7,\n      accessible: true,\n      accessibilityLabel: `Open passage ${ref}`,\n      accessibilityRole: \"button\",\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoVectorIcons.Ionicons, {\n        name: \"book-outline\",\n        size: 14,\n        color: isDark ? '#9CA3AF' : '#6B7280'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: [styles.chipText, isDark ? styles.chipTextDark : styles.chipTextLight],\n        children: displayRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this);\n  }\n  const styles = StyleSheet.default.create({\n    chip: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      paddingHorizontal: 12,\n      paddingVertical: 6,\n      borderRadius: 16,\n      marginRight: 8,\n      marginTop: 8\n    },\n    chipLight: {\n      backgroundColor: '#E0E7FF'\n    },\n    chipDark: {\n      backgroundColor: '#1F2937'\n    },\n    chipText: {\n      fontSize: 13,\n      fontWeight: '500',\n      marginLeft: 6\n    },\n    chipTextLight: {\n      color: '#4C7CF0'\n    },\n    chipTextDark: {\n      color: '#93C5FD'\n    }\n  });\n});","lineCount":132,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,2,1,0,"Object"],[8,8,1,0],[8,9,1,0,"defineProperty"],[8,23,1,0],[8,24,1,0,"exports"],[8,31,1,0],[9,4,1,0,"value"],[9,9,1,0],[10,2,1,0],[11,2,1,0],[11,11,1,0,"_interopDefault"],[11,27,1,0,"e"],[11,28,1,0],[12,4,1,0],[12,11,1,0,"e"],[12,12,1,0],[12,16,1,0,"e"],[12,17,1,0],[12,18,1,0,"__esModule"],[12,28,1,0],[12,31,1,0,"e"],[12,32,1,0],[13,6,1,0,"default"],[13,13,1,0],[13,15,1,0,"e"],[14,4,1,0],[15,2,1,0],[16,2,17,15,"Object"],[16,8,17,15],[16,9,17,15,"defineProperty"],[16,23,17,15],[16,24,17,15,"exports"],[16,31,17,15],[17,4,17,15,"enumerable"],[17,14,17,15],[18,4,17,15,"get"],[18,7,17,15],[18,18,17,15,"get"],[18,19,17,15],[19,6,17,15],[19,13,17,15,"CitationChip"],[19,25,17,15],[20,4,17,15],[21,2,17,15],[22,2,4,0,"require"],[22,9,4,0],[22,10,4,0,"_dependencyMap"],[22,24,4,0],[23,2,4,26],[23,6,4,26,"_reactNativeWebDistExportsTouchableOpacity"],[23,48,4,26],[23,51,4,26,"require"],[23,58,4,26],[23,59,4,26,"_dependencyMap"],[23,73,4,26],[24,2,4,26],[24,6,4,26,"TouchableOpacity"],[24,22,4,26],[24,25,4,26,"_interopDefault"],[24,40,4,26],[24,41,4,26,"_reactNativeWebDistExportsTouchableOpacity"],[24,83,4,26],[25,2,4,26],[25,6,4,26,"_reactNativeWebDistExportsText"],[25,36,4,26],[25,39,4,26,"require"],[25,46,4,26],[25,47,4,26,"_dependencyMap"],[25,61,4,26],[26,2,4,26],[26,6,4,26,"Text"],[26,10,4,26],[26,13,4,26,"_interopDefault"],[26,28,4,26],[26,29,4,26,"_reactNativeWebDistExportsText"],[26,59,4,26],[27,2,4,26],[27,6,4,26,"_reactNativeWebDistExportsStyleSheet"],[27,42,4,26],[27,45,4,26,"require"],[27,52,4,26],[27,53,4,26,"_dependencyMap"],[27,67,4,26],[28,2,4,26],[28,6,4,26,"StyleSheet"],[28,16,4,26],[28,19,4,26,"_interopDefault"],[28,34,4,26],[28,35,4,26,"_reactNativeWebDistExportsStyleSheet"],[28,71,4,26],[29,2,4,26],[29,6,4,26,"_reactNativeWebDistExportsUseColorScheme"],[29,46,4,26],[29,49,4,26,"require"],[29,56,4,26],[29,57,4,26,"_dependencyMap"],[29,71,4,26],[30,2,4,26],[30,6,4,26,"useColorScheme"],[30,20,4,26],[30,23,4,26,"_interopDefault"],[30,38,4,26],[30,39,4,26,"_reactNativeWebDistExportsUseColorScheme"],[30,79,4,26],[31,2,4,26],[31,6,4,26,"_reactNativeWebDistExportsAlert"],[31,37,4,26],[31,40,4,26,"require"],[31,47,4,26],[31,48,4,26,"_dependencyMap"],[31,62,4,26],[32,2,4,26],[32,6,4,26,"Alert"],[32,11,4,26],[32,14,4,26,"_interopDefault"],[32,29,4,26],[32,30,4,26,"_reactNativeWebDistExportsAlert"],[32,61,4,26],[33,2,6,0],[33,6,6,0,"_expoVectorIcons"],[33,22,6,0],[33,25,6,0,"require"],[33,32,6,0],[33,33,6,0,"_dependencyMap"],[33,47,6,0],[34,2,7,0],[34,6,7,0,"_expoRouter"],[34,17,7,0],[34,20,7,0,"require"],[34,27,7,0],[34,28,7,0,"_dependencyMap"],[34,42,7,0],[35,2,8,0],[35,6,8,0,"_utilsDeeplink"],[35,20,8,0],[35,23,8,0,"require"],[35,30,8,0],[35,31,8,0,"_dependencyMap"],[35,45,8,0],[36,2,9,0],[36,6,9,0,"_storeUseChatStore"],[36,24,9,0],[36,27,9,0,"require"],[36,34,9,0],[36,35,9,0,"_dependencyMap"],[36,49,9,0],[37,2,10,0],[37,6,10,0,"_storeUseUserStore"],[37,24,10,0],[37,27,10,0,"require"],[37,34,10,0],[37,35,10,0,"_dependencyMap"],[37,49,10,0],[38,2,10,53],[38,6,10,53,"_reactJsxDevRuntime"],[38,25,10,53],[38,28,10,53,"require"],[38,35,10,53],[38,36,10,53,"_dependencyMap"],[38,50,10,53],[39,2,17,15],[39,11,17,24,"CitationChip"],[39,23,17,36,"CitationChip"],[39,24,17,37],[40,4,17,39,"ref"],[40,7,17,42],[41,4,17,44,"onPress"],[42,2,17,71],[42,3,17,72],[42,5,17,74],[43,4,18,2],[43,10,18,8,"router"],[43,16,18,14],[43,19,18,17],[43,23,18,17,"useRouter"],[43,34,18,26],[43,35,18,26,"useRouter"],[43,44,18,26],[43,46,18,27],[43,47,18,28],[44,4,19,2],[44,10,19,8,"colorScheme"],[44,21,19,19],[44,24,19,22],[44,28,19,22,"useColorScheme"],[44,42,19,36],[44,43,19,36,"default"],[44,50,19,36],[44,52,19,37],[44,53,19,38],[45,4,20,2],[45,10,20,8,"isDark"],[45,16,20,14],[45,19,20,17,"colorScheme"],[45,30,20,28],[45,35,20,33],[45,41,20,39],[46,4,21,2],[46,10,21,8],[47,6,21,10,"locale"],[48,4,21,17],[48,5,21,18],[48,8,21,21],[48,12,21,21,"useUserStore"],[48,30,21,33],[48,31,21,33,"useUserStore"],[48,43,21,33],[48,45,21,34],[48,46,21,35],[49,4,22,2],[49,10,22,8],[50,6,22,10,"setLastTappedCitationRef"],[51,4,22,35],[51,5,22,36],[51,8,22,39],[51,12,22,39,"useChatStore"],[51,30,22,51],[51,31,22,51,"useChatStore"],[51,43,22,51],[51,45,22,52],[51,46,22,53],[52,4,24,2],[52,10,24,8,"handlePress"],[52,21,24,19],[52,24,24,22,"handlePress"],[52,25,24,22],[52,30,24,28],[53,6,25,4,"console"],[53,13,25,11],[53,14,25,12,"log"],[53,17,25,15],[53,18,25,16],[53,44,25,42],[53,46,25,44],[54,8,25,46,"ref"],[55,6,25,50],[55,7,25,51],[55,8,25,52],[57,6,27,4],[58,6,28,4,"setLastTappedCitationRef"],[58,30,28,28],[58,31,28,29,"ref"],[58,34,28,32],[58,35,28,33],[60,6,30,4],[61,6,31,4,"router"],[61,12,31,10],[61,13,31,11,"push"],[61,17,31,15],[61,18,31,16],[61,30,31,28,"encodeURIComponent"],[61,48,31,46],[61,49,31,47,"ref"],[61,52,31,50],[61,53,31,51],[61,74,31,72],[61,75,31,73],[62,6,33,4],[62,10,33,8,"onPress"],[62,17,33,15],[62,19,33,17],[63,8,34,6,"onPress"],[63,15,34,13],[63,16,34,14,"ref"],[63,19,34,17],[63,20,34,18],[64,6,35,4],[65,4,36,2],[65,5,36,3],[66,4,38,2],[66,10,38,8,"handleLongPress"],[66,25,38,23],[66,28,38,26,"handleLongPress"],[66,29,38,26],[66,34,38,32],[67,6,39,4],[68,6,40,4,"Alert"],[68,11,40,9],[68,12,40,9,"default"],[68,19,40,9],[68,20,40,10,"alert"],[68,25,40,15],[68,26,40,16],[68,36,40,26],[68,38,40,28,"ref"],[68,41,40,31],[68,43,40,33],[68,44,41,6],[69,8,41,8,"text"],[69,12,41,12],[69,14,41,14],[69,18,41,18],[70,8,41,20,"style"],[70,13,41,25],[70,15,41,27],[71,6,41,37],[71,7,41,38],[71,8,42,5],[71,9,42,6],[72,4,43,2],[72,5,43,3],[73,4,45,2],[73,10,45,8,"displayRef"],[73,20,45,18],[73,23,45,21],[73,27,45,21,"truncateCitation"],[73,41,45,37],[73,42,45,37,"truncateCitation"],[73,58,45,37],[73,60,45,38,"ref"],[73,63,45,41],[73,65,45,43],[73,67,45,45],[73,68,45,46],[74,4,47,2],[74,24,48,4],[74,28,48,4,"_reactJsxDevRuntime"],[74,47,48,4],[74,48,48,4,"jsxDEV"],[74,54,48,4],[74,56,48,5,"TouchableOpacity"],[74,72,48,21],[74,73,48,21,"default"],[74,80,48,21],[75,6,49,6,"style"],[75,11,49,11],[75,13,49,13],[75,14,49,14,"styles"],[75,20,49,20],[75,21,49,21,"chip"],[75,25,49,25],[75,27,49,27,"isDark"],[75,33,49,33],[75,36,49,36,"styles"],[75,42,49,42],[75,43,49,43,"chipDark"],[75,51,49,51],[75,54,49,54,"styles"],[75,60,49,60],[75,61,49,61,"chipLight"],[75,70,49,70],[75,71,49,72],[76,6,50,6,"onPress"],[76,13,50,13],[76,15,50,15,"handlePress"],[76,26,50,27],[77,6,51,6,"onLongPress"],[77,17,51,17],[77,19,51,19,"handleLongPress"],[77,34,51,35],[78,6,52,6,"activeOpacity"],[78,19,52,19],[78,21,52,21],[78,24,52,25],[79,6,53,6,"accessible"],[79,16,53,16],[79,18,53,18],[79,22,53,23],[80,6,54,6,"accessibilityLabel"],[80,24,54,24],[80,26,54,26],[80,42,54,42,"ref"],[80,45,54,45],[80,47,54,48],[81,6,55,6,"accessibilityRole"],[81,23,55,23],[81,25,55,24],[81,33,55,32],[82,6,55,32,"children"],[82,14,55,32],[82,30,57,6],[82,34,57,6,"_reactJsxDevRuntime"],[82,53,57,6],[82,54,57,6,"jsxDEV"],[82,60,57,6],[82,62,57,7,"_expoVectorIcons"],[82,78,57,15],[82,79,57,15,"Ionicons"],[82,87,57,15],[83,8,57,16,"name"],[83,12,57,20],[83,14,57,21],[83,28,57,35],[84,8,57,36,"size"],[84,12,57,40],[84,14,57,42],[84,16,57,45],[85,8,57,46,"color"],[85,13,57,51],[85,15,57,53,"isDark"],[85,21,57,59],[85,24,57,62],[85,33,57,71],[85,36,57,74],[86,6,57,84],[87,8,57,84,"fileName"],[87,16,57,84],[87,18,57,84,"_jsxFileName"],[87,30,57,84],[88,8,57,84,"lineNumber"],[88,18,57,84],[89,8,57,84,"columnNumber"],[89,20,57,84],[90,6,57,84],[90,13,57,86],[90,14,57,87],[90,29,58,6],[90,33,58,6,"_reactJsxDevRuntime"],[90,52,58,6],[90,53,58,6,"jsxDEV"],[90,59,58,6],[90,61,58,7,"Text"],[90,65,58,11],[90,66,58,11,"default"],[90,73,58,11],[91,8,58,12,"style"],[91,13,58,17],[91,15,58,19],[91,16,58,20,"styles"],[91,22,58,26],[91,23,58,27,"chipText"],[91,31,58,35],[91,33,58,37,"isDark"],[91,39,58,43],[91,42,58,46,"styles"],[91,48,58,52],[91,49,58,53,"chipTextDark"],[91,61,58,65],[91,64,58,68,"styles"],[91,70,58,74],[91,71,58,75,"chipTextLight"],[91,84,58,88],[91,85,58,90],[92,8,58,90,"children"],[92,16,58,90],[92,18,59,9,"displayRef"],[93,6,59,19],[94,8,59,19,"fileName"],[94,16,59,19],[94,18,59,19,"_jsxFileName"],[94,30,59,19],[95,8,59,19,"lineNumber"],[95,18,59,19],[96,8,59,19,"columnNumber"],[96,20,59,19],[97,6,59,19],[97,13,60,12],[97,14,60,13],[98,4,60,13],[99,6,60,13,"fileName"],[99,14,60,13],[99,16,60,13,"_jsxFileName"],[99,28,60,13],[100,6,60,13,"lineNumber"],[100,16,60,13],[101,6,60,13,"columnNumber"],[101,18,60,13],[102,4,60,13],[102,11,61,22],[102,12,61,23],[103,2,63,0],[104,2,65,0],[104,8,65,6,"styles"],[104,14,65,12],[104,17,65,15,"StyleSheet"],[104,27,65,25],[104,28,65,25,"default"],[104,35,65,25],[104,36,65,26,"create"],[104,42,65,32],[104,43,65,33],[105,4,66,2,"chip"],[105,8,66,6],[105,10,66,8],[106,6,67,4,"flexDirection"],[106,19,67,17],[106,21,67,19],[106,26,67,24],[107,6,68,4,"alignItems"],[107,16,68,14],[107,18,68,16],[107,26,68,24],[108,6,69,4,"paddingHorizontal"],[108,23,69,21],[108,25,69,23],[108,27,69,25],[109,6,70,4,"paddingVertical"],[109,21,70,19],[109,23,70,21],[109,24,70,22],[110,6,71,4,"borderRadius"],[110,18,71,16],[110,20,71,18],[110,22,71,20],[111,6,72,4,"marginRight"],[111,17,72,15],[111,19,72,17],[111,20,72,18],[112,6,73,4,"marginTop"],[112,15,73,13],[112,17,73,15],[113,4,74,2],[113,5,74,3],[114,4,75,2,"chipLight"],[114,13,75,11],[114,15,75,13],[115,6,76,4,"backgroundColor"],[115,21,76,19],[115,23,76,21],[116,4,77,2],[116,5,77,3],[117,4,78,2,"chipDark"],[117,12,78,10],[117,14,78,12],[118,6,79,4,"backgroundColor"],[118,21,79,19],[118,23,79,21],[119,4,80,2],[119,5,80,3],[120,4,81,2,"chipText"],[120,12,81,10],[120,14,81,12],[121,6,82,4,"fontSize"],[121,14,82,12],[121,16,82,14],[121,18,82,16],[122,6,83,4,"fontWeight"],[122,16,83,14],[122,18,83,16],[122,23,83,21],[123,6,84,4,"marginLeft"],[123,16,84,14],[123,18,84,16],[124,4,85,2],[124,5,85,3],[125,4,86,2,"chipTextLight"],[125,17,86,15],[125,19,86,17],[126,6,87,4,"color"],[126,11,87,9],[126,13,87,11],[127,4,88,2],[127,5,88,3],[128,4,89,2,"chipTextDark"],[128,16,89,14],[128,18,89,16],[129,6,90,4,"color"],[129,11,90,9],[129,13,90,11],[130,4,91,2],[131,2,92,0],[131,3,92,1],[131,4,92,2],[132,0,92,3],[132,3]],"functionMap":{"names":["<global>","CitationChip","handlePress","handleLongPress"],"mappings":"AAA;eCgB;sBCO;GDY;0BEE;GFK;CDoB"},"hasCjsExports":false},"type":"js/module"}]}